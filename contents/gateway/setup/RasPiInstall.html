<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="ja" http-equiv="Content-Language" />
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>インストールの方法</title>
<style type="text/css">
body{
	width:800px;
	margin-left:auto;
	margin-right:auto;
}
h2
	{margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";
	font-weight:normal;
	margin-left: 0mm;
	margin-right: 0mm;
	margin-top: 0mm;
}
.auto-style1 {
	vertical-align: middle;
}
.auto-style2 {
	margin-right: 0px;
	margin-bottom: 0px;
	font-family: メイリオ;
	font-weight: normal;
	color: #666666;
}
.auto-style5 {
	font-family: メイリオ;
	color: #666666;
}

.auto-style7 {
	font-family: メイリオ;
	color: #666666;
	font-size: x-large;
}

.auto-style8 {
	font-family: メイリオ;
	color: #666666;
	margin-left: 40px;
}
.auto-style9 {
	font-family: メイリオ;
	color: #666666;
	margin-left: 80px;
}
.auto-style10 {
	font-family: メイリオ;
	color: #666666;
	margin-left: 120px;
}

.auto-style12 {
	text-align: right;
}

.auto-style13 {
	font-family: メイリオ;
	color: #666666;
	font-size: large;
}
.auto-style14 {
	margin-left: 40px;
}

</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-8147436-1', 'auto');
  ga('send', 'pageview');

</script>


</head>

<body>

<h1>
<img height="45" src="../../Lazurite_logo.png" width="197" class="auto-style1" /> 
<span class="auto-style2">Raspberry Pi環境のセットアップ</span></h1>
<h1>概要</h1>
<ol>
	<li class="auto-style5"><a href="#1._Lazurite関連ソフトウエアのインストール">Lazurite関連ソフトウエアのインストール(node-red以外)</a></li>
	<li class="auto-style5"><a href="#2._Node-RED用ライブラリのインストール">Node-RED用ライブラリのインストール</a></li>
</ol>
<p class="auto-style14">2-1.<a href="#2-1._Node-RED上からライブラリをインストール">
Node-RED上からライブラリをインストール</a> </p>
<p class="auto-style14">2-2.<a href="#2-2._Node-RED用ライブラリを手動でnpmインストール">Node-RED用ライブラリを手動でnpmインストール 
 
</a></p>
<p class="auto-style14">2-3.<a href="#2-3._Node-RED用ライブラリを手動でgithubからインストール">Node-RED用ライブラリを手動でgithubからインストール</a>
</p>
<ol>
	<li class="auto-style5" value="3"><a href="#3._サンプルプログラムを作る">サンプルプログラムを作る 
	</a></li>
</ol>
<hr />
<br class="Apple-interchange-newline" />
<p class="auto-style7"><strong><a name="1._Lazurite関連ソフトウエアのインストール">1. 
Lazurite関連ソフトウエアのインストール</a></strong></p>
<p class="auto-style8">１．インストーラーをダウンロードします。</p>
<p class="auto-style8">以下のコマンドを入力します。</p>
<p class="auto-style8">$ git clone 
git://github.com/LAPIS-Lazurite/LazuriteInstaller</p>
<p class="auto-style8">
<img alt="" height="176" src="installer.png" width="651" /></p>
<p class="auto-style8">２．Raspberry Piの設定</p>
<p class="auto-style8">以下のコマンドを入力します。</p>
<p class="auto-style8">$ cd LazuriteInstaller<br />
$ ./setup.sh</p>
<p class="auto-style8">
<img alt="" height="108" src="installer2.png" width="651" /></p>
<p class="auto-style8">
<img alt="" height="107" src="installer4.png" width="602" />&nbsp;</p>
<p class="auto-style8">下図は完了後の画面です。完了後に再起動して下さい。</p>
<p class="auto-style8">
<img alt="" height="320" src="installer3.png" width="575" /></p>
<p class="auto-style8">再起動後、以下のコマンドを入力して下さい。</p>
<p class="auto-style8">$ cd LazuriteInstaller<br />
$ ./install.sh</p>
<p class="auto-style7"><strong><a name="2._Node-RED用ライブラリのインストール">2. 
Node-RED用ライブラリのインストール</a></strong></p>
<p class="auto-style8">2-1. / 2-2. / 2-3. のどれでもインストール出来ますが、2-1.の方が簡単です。</p>
<p class="auto-style13"><strong><a name="2-1._Node-RED上からライブラリをインストール">2-1. Node-RED上からライブラリをインストール</a></strong></p>
<p class="auto-style8">Lazuriteのライブラリを使用しますので、あらかじめこちらの作業を完了しておいてください。</p>
<p class="auto-style8">1.以下の手順で Node-REDを起動します。</p>
<p class="auto-style8">①メニュー→②プログラミング→③NodeｰRED</p>
<p class="auto-style8">
<img alt="" height="314" src="library1.png" width="377" /></p>
<p class="auto-style8">２. Node-REDのコマンド画面が開いたら、ブラウザを立ち上げ④のアドレスを貼り付け実行します。</p>
<p class="auto-style8">
<img alt="" height="280" src="library2.png" width="450" /></p>
<p class="auto-style8">３．ブラウザ上でNode-REDの画面が開いたら、画面右側の⑤をクリックし、⑥の『パレットの管理』を開きます。</p>
<p class="auto-style8">
<img alt="" height="330" src="library4.png" width="640" /></p>
<p class="auto-style8">
４．⑦のノードの追加タブをクリックして、⑧にnode-red-contrib-lazuriteと入力すると⑨が出てくるので選択して⑩のノードの追加をクリックします。</p>
<p class="auto-style8">
<img alt="" height="204" src="library5.png" width="509" /></p>
<p class="auto-style8">５．下記のメッセージが表示されたら⑪の追加、⑫の閉じるをクリックします。</p>
<p class="auto-style8">
<img alt="" height="164" src="library6.png" width="406" /></p>
<p class="auto-style8">
<img alt="" height="276" src="library8.png" width="509" /></p>
<p class="auto-style8">６．画面左に⑬のLazurite のノードが作成されていればインストール完了です。</p>
<p class="auto-style8">
<img alt="" height="405" src="library9.png" width="628" /></p>
<p class="auto-style13"><strong><a name="2-2._Node-RED用ライブラリを手動でnpmインストール">2-2. Node-RED用ライブラリを手動でnpmインストール</a></strong></p>
<p class="auto-style8">Lazuriteのライブラリを使用しますので、あらかじめこちらの作業を完了しておいてください。</p>
<p class="auto-style8">1. 一度もNode-REDを起動したことが無い場合は、一度Node-REDを起動してください。</p>
<p class="auto-style9">$ node-red</p>
<p class="auto-style9">
<img alt="" height="325" src="nodeinstaller.png" width="616" /></p>
<p class="auto-style9">起動したら、Ctrl-CでNode-REDを終了します。</p>
<p class="auto-style8">2.Node-REDのフォルダが作られていることを確認してください。</p>
<p class="auto-style9">$ cd ~/.node-red<br />
$ ls</p>
<p class="auto-style9">
<img alt="" height="301" src="nodeinstaller2.png" width="616" /></p>
<p class="auto-style8">3. Node-RED用ライブラリのインストール</p>
<p class="auto-style9">3-1. npmパッケージインストール</p>
<p class="auto-style10">$ npm install node-red-contrib-lazurite</p>
<p class="auto-style10">
<img alt="" height="579" src="nodeinstaller3.png" width="742" /></p>
<p class="auto-style13"><strong><a name="2-3._Node-RED用ライブラリを手動でgithubからインストール">2-3. Node-RED用ライブラリを手動でgithubからインストール</a></strong></p>
<p class="auto-style9">$ cd ~/.node-red/node_modules<br />
$ git clone git://github.com/LAPIS-Lazurite/node-red-contrib-lazurite<br />
$ cd node-red-contrib-lazurite</p>
<p class="auto-style10">
<img alt="" height="144" src="nodeinstaller4.png" width="832" /></p>
<p class="auto-style10">$ node-gyp rebuild</p>
<p class="auto-style10">
<img alt="" height="558" src="nodeinstaller5.png" width="825" /></p>
<p class="auto-style9">補足: npmとnode-gypでエラーが発生する場合はソフトウエアのインストールを行ってください。</p>
<p class="auto-style10">$ sudo apt-get install -y npm node-gyp</p>
<p class="auto-style10">
<img alt="" height="292" src="nodeinstaller6.png" width="826" /></p>
<p class="auto-style5">&nbsp;</p>
<p class="auto-style7"><strong><a name="3._サンプルプログラムを作る">3. 
サンプルプログラムを作る</a></strong></p>
<p class="auto-style8">1. サンプルプログラムを使用するために必要なnode-red-dashboardのインストール</p>
<p class="auto-style9">$ cd ~/.node-red</p>
<p class="auto-style9">$ npm install node-red-dashboard</p>
<p class="auto-style8">2. Node-REDを起動する</p>
<p class="auto-style9">$ node-red</p>
<p class="auto-style8">3. Raspberry 
Piでブラウザ起動して、アドレスに「http://localhost:1880」を入力してください。</p>
<p class="auto-style9">
<img alt="" height="110" src="nodeinstaller7.png" width="664" /></p>
<p class="auto-style8">4. Lazuriteのパッケージがインストールされている事を確認します。</p>
<p class="auto-style9">
<img alt="" height="497" src="nodeinstaller8.png" width="664" /></p>
<p class="auto-style9">
&nbsp;</p>
<table style="width: 100%">
	<tr>
		<td>前[<a href="http://www.lapis-semi.com/lazurite-jp/contents/gateway/setup/RasPiJapanese.html%2522"></a><a href="http://www.lapis-semi.com/lazurite-jp/contents/gateway/setup/RasPiJapanise.html">Raspberry 
		Piの初期設定</a>]</td>
		<td class="auto-style12">[<a href="http://www.lapis-semi.com/lazurite-jp/contents/gateway/setup/RasPiInstall.html"></a><a href="http://www.lapis-semi.com/lazurite-jp/contents/subghz/BP3596A_antennalist_150511.pdf" target="_blank"></a><a href="http://www.lapis-semi.com/lazurite-jp/contents/gateway/reference/default.html" target="_blank">APIリファレンス</a>」次</td>
	</tr>
</table>

</body>

</html>
